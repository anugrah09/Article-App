(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},157:function(e,t,a){},232:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},270:function(e,t,a){},446:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(2),c=a.n(n),r=a(92),i=a.n(r),l=(a(232),a(7)),o=a(8),j=a(11),d=a(12),h=a(14),u=a(13),b=a(36),p=a.n(b),O=a(16),m=a(32),x=function(e){return function(t,a){t({type:"Search",add:e.search})}},g=function(){return function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}},f=(a(152),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={search:""},e.handleChange=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.search(e.state),e.setState(Object(m.a)({},t.target.search,""))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("nav",{className:"container navbar navbar-expand-lg color ",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)(l.b,{to:"/",className:"navbar-brand logo",children:"Article"}),Object(s.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(s.jsxs)("form",{className:"d-flex container",onSubmit:this.handleSubmit,children:[Object(s.jsx)("input",{id:"search",className:"form-control me-2",onChange:this.handleChange,type:"search",placeholder:"Search","aria-label":"Search"}),Object(s.jsx)("button",{className:"btn submit",type:"submit",children:"Search"})]}),Object(s.jsx)("a",{class:"btn nav-link",onClick:this.props.signOut,children:"Logout"})]})]})})})}}]),a}(n.Component)),v=Object(O.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{search:function(t){return e(x(t))},signOut:function(){return e(g())}}}))(f),y=(a(255),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={sort:""},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container d-flex",children:[Object(s.jsx)("span",{className:" dropdown-text",children:"Search"}),Object(s.jsx)("div",{className:"option",children:Object(s.jsxs)("select",{id:"country",class:"m-2",name:"country",children:[Object(s.jsx)("option",{className:"option-value",children:"All"}),Object(s.jsx)("option",{className:"option-value",children:"Stories"}),Object(s.jsx)("option",{className:"option-value",children:"Comments"})]})}),Object(s.jsx)("span",{className:" dropdown-text",children:"by"}),Object(s.jsx)("div",{className:"option",children:Object(s.jsxs)("select",{id:"country",class:"m-2",name:"country",children:[Object(s.jsx)("option",{className:"option-value",children:"Popularity"}),Object(s.jsx)("option",{className:"option-value",children:"Date"})]})}),Object(s.jsx)("span",{className:" dropdown-text",children:"for"}),Object(s.jsx)("div",{className:"option",children:Object(s.jsxs)("select",{id:"country",class:"m-2",name:"country",children:[Object(s.jsx)("option",{className:"option-value",children:"All Time"}),Object(s.jsx)("option",{className:"option-value",children:"Past 24th"}),Object(s.jsx)("option",{className:"option-value",children:"Past week"})]})})]})})}}]),a}(n.Component)),N=(a(256),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return this.props.auth.uid?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("nav",{"aria-label":"...",className:" container d-flex justify-content-center",children:Object(s.jsxs)("ul",{class:"pagination pagination-sm",children:[Object(s.jsx)(l.c,{to:"/page/1",activeClassName:"selected default",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"1"})}),Object(s.jsx)(l.c,{to:"/page/2",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"2"})}),Object(s.jsx)(l.c,{to:"/page/3",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"3"})}),Object(s.jsx)(l.c,{to:"/page/4",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"4"})}),Object(s.jsx)(l.c,{to:"/page/5",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"5"})}),Object(s.jsx)(l.c,{to:"/page/6",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"6"})}),Object(s.jsx)(l.c,{to:"/page/7",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"7"})}),Object(s.jsx)(l.c,{to:"/page/8",activeClassName:"selected",style:{textDecoration:"none"},children:Object(s.jsx)("li",{class:"page-item m-1 page-link page-number",children:"8"})})]})})}):Object(s.jsx)(o.a,{to:"/signin"})}}]),a}(n.Component)),w=Object(O.b)((function(e){return{auth:e.firebase.auth}}))(N),S=(a(153),a(51)),C=a.n(S),D=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={posts:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://hn.algolia.com/api/v1/search?&tags=story").then((function(t){e.setState({posts:t.data.hits})}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.query!==e.query){var a=this.props.query;this.props.sort;console.log(this.props),p.a.get("https://hn.algolia.com/api/v1/search?query=".concat(a,"&tags=story&page=1")).then((function(e){t.setState({posts:e.data.hits})}))}}},{key:"render",value:function(){if(!this.props.auth.uid)return Object(s.jsx)(o.a,{to:"/signin"});var e=this.state.posts,t=e.length?e.map((function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container mt-2 background",children:[Object(s.jsx)(l.b,{to:"/"+e.objectID,style:{textDecoration:"none"},children:Object(s.jsx)("span",{className:"title",children:e.title})}),Object(s.jsxs)("a",{href:e.url,className:"base",children:[" (",e.url,")"]}),Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/"+e.objectID,style:{textDecoration:"none"},children:Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{className:"base",children:[" ",e.points," points"]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",e.author]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",C()(C()(e.created_at).format("YYYYMMDD"),"YYYYMMDD").fromNow()]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",e.num_comments," comments"]})]})})]},e.objectID)})})):Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:" d-flex justify-content-center m-5",children:[Object(s.jsx)("div",{className:"spinner-grow text-success",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-danger",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-warning",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{}),Object(s.jsx)(y,{}),t,Object(s.jsx)(w,{})]})}}]),a}(n.Component),k=Object(O.b)((function(e){return{query:e.details.query,page:e.details.page,auth:e.firebase.auth,sort:e.details.sort}}))(D),F=a(139),I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={search:""},e}return Object(d.a)(a,[{key:"render",value:function(){if(!this.props.auth.uid)return Object(s.jsx)(o.a,{to:"/signin"});this.props.profile;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("nav",{className:"container navbar navbar-expand-lg color ",children:Object(s.jsxs)("div",{className:"container-fluid detail-navbar",children:[Object(s.jsx)(l.b,{to:"/",className:"navbar-brand logo",children:"Article"}),Object(s.jsx)("a",{class:"btn nav-link logout",onClick:this.props.signOut,children:"Logout"})]})})})}}]),a}(n.Component),E=Object(O.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{signOut:function(){return e(g())}}}))(I),Y=(a(270),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={id:null,posts:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.detail_id;p.a.get("https://hn.algolia.com/api/v1/items/".concat(t)).then((function(t){e.setState({posts:t.data.children})}))}},{key:"render",value:function(){var e=this.state.posts,t=e.length?e.map((function(e){return Object(s.jsx)("div",{className:"container details mt-3",children:Object(s.jsx)("p",{id:"detail",children:Object(F.a)("".concat(e.text))})},e.id)})):Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container d-flex justify-content-center m-5",children:[Object(s.jsx)("div",{className:"spinner-grow text-success",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-danger",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-warning",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(E,{}),t]})}}]),a}(n.Component)),L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={posts:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.pageid;p.a.get("https://hn.algolia.com/api/v1/search?query=".concat(this.props.query,"&tags=story&page=").concat(t)).then((function(t){e.setState({posts:t.data.hits})}))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.pageid;a!=e.match.params.pageid&&p.a.get("https://hn.algolia.com/api/v1/search?query=".concat(this.props.query,"&tags=story&page=").concat(a)).then((function(e){t.setState({posts:e.data.hits})}))}},{key:"render",value:function(){if(!this.props.auth.uid)return Object(s.jsx)(o.a,{to:"/signin"});var e=this.state.posts,t=e.length?e.map((function(e){return Object(s.jsxs)("div",{className:"container mt-2 background",children:[Object(s.jsx)(l.b,{to:"/"+e.objectID,style:{textDecoration:"none"},children:Object(s.jsx)("span",{className:"title",children:e.title})}),Object(s.jsxs)("a",{href:e.url,className:"base",children:[" (",e.url,")"]}),Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/"+e.objectID,style:{textDecoration:"none"},children:Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{className:"base",children:[" ",e.points," points"]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",e.author]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",C()(C()(e.created_at).format("YYYYMMDD"),"YYYYMMDD").fromNow()]}),Object(s.jsx)("span",{className:"story-separator",children:" |"}),Object(s.jsxs)("span",{className:"base",children:[" ",e.num_comments," comments"]})]})})]},e.objectID)})):Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"d-flex justify-content-center m-5",children:[Object(s.jsx)("div",{className:"spinner-grow text-success",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-danger",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-warning",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{}),Object(s.jsx)(y,{}),t,Object(s.jsx)(w,{})]})}}]),a}(n.Component),A=Object(O.b)((function(e){return{auth:e.firebase.auth,query:e.details.query}}))(L),U=(a(157),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(s.jsx)(o.a,{to:"/"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{class:"row ",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"email",children:"Email"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"email",id:"email",name:"firstname",placeholder:"Your email",onChange:this.handleChange})})]}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"password",children:"Password"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"password",id:"password",name:"lastname",placeholder:"Your password",onChange:this.handleChange})})]}),Object(s.jsx)("div",{class:"row mt-2 ",children:Object(s.jsx)("input",{type:"submit",value:"Login"})}),Object(s.jsx)("div",{className:"newuser",children:Object(s.jsx)(l.b,{to:"/signup",children:"New User"})}),Object(s.jsx)("div",{className:"red-text center",children:t?Object(s.jsx)("p",{children:t}):null})]})})})}}]),a}(n.Component)),R=Object(O.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,s){(0,s.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(U),_=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",firstname:"",lastname:""},e.handleChange=function(t){e.setState(Object(m.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?Object(s.jsx)(o.a,{to:"/"}):Object(s.jsx)("div",{children:Object(s.jsx)("div",{class:"container",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{class:"row ",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"email",children:"Email"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"email",id:"email",name:"firstname",placeholder:"Your email",onChange:this.handleChange})})]}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"password",children:"Password"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"password",id:"password",name:"lastname",placeholder:"Your password",onChange:this.handleChange})})]}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"firstname",children:"First Name"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"text",id:"firstname",name:"firstname",placeholder:"Your firstname..",onChange:this.handleChange})})]}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("div",{class:"col-25",children:Object(s.jsx)("label",{for:"lastname",children:"Last Name"})}),Object(s.jsx)("div",{class:"col-75",children:Object(s.jsx)("input",{type:"text",id:"lastname",name:"firstname",placeholder:"Your lastname..",onChange:this.handleChange})})]}),Object(s.jsx)("div",{class:"row mt-2 ",children:Object(s.jsx)("input",{type:"submit",value:"Register"})}),Object(s.jsx)("div",{className:"center mt-3",children:a?Object(s.jsx)("p",{children:a}):null})]})})})}}]),a}(n.Component),P=Object(O.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e((a=t,function(e,t,s){var n=s.getFirebase,c=s.getFirestore,r=n(),i=c();r.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(e){return i.collection("users").doc(e.user.uid).set({firstName:a.firstName,lastName:a.lastName,initials:a.firstName[0]+a.lastName[0]})})).then((function(){e({type:"SIGNUP_SUCCESS"})})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})}))}));var a}}}))(_);var q=function(){return Object(s.jsx)(l.a,{children:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{exact:!0,path:"/",component:k}),Object(s.jsx)(o.b,{exact:!0,path:"/signin",component:R}),Object(s.jsx)(o.b,{exact:!0,path:"/signup",component:P}),Object(s.jsx)(o.b,{exact:!0,path:"/:detail_id",component:Y}),Object(s.jsx)(o.b,{exact:!0,path:"/page/:pageid",component:A})]})})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,448)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))},M=a(37),B=a(17),T={authError:null},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{authError:null});case"LOGIN_ERROR":return Object(B.a)(Object(B.a)({},e),{},{authError:"Login error"});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return Object(B.a)(Object(B.a)({},e),{},{authError:t.err.message});default:return e}},z={query:null,page:1,sort:"search"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Search":return Object(B.a)(Object(B.a)({},e),{},{query:t.add});case"Page":return Object(B.a)(Object(B.a)({},e),{},{page:t.page});case"Sort":return console.log("date",t.add),Object(B.a)(Object(B.a)({},e),{},{sort:t.add});default:return e}},H=a(67),K=a(68),Q=Object(M.c)({auth:J,details:W,firestore:H.firestoreReducer,firebase:K.firebaseReducer}),V=a(226),Z=a(94);a(447),a(444);Z.a.initializeApp({apiKey:"AIzaSyAYLIuQI61cF51JZUpcp0Bt_2S2VbGGHBw",authDomain:"apiproject-ab3c6.firebaseapp.com",projectId:"apiproject-ab3c6",storageBucket:"apiproject-ab3c6.appspot.com",messagingSenderId:"1085409472848",appId:"1:1085409472848:web:2a6387118516ecad99bc55"}),Z.a.firestore().settings({timestampsInSnapshots:!0});var X=Z.a,$=Object(M.e)(Q,Object(M.d)(Object(M.a)(V.a.withExtraArgument({getFirebase:K.getFirebase,getFirestore:H.getFirestore})),Object(K.reactReduxFirebase)(X,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(H.reduxFirestore)(X)));i.a.render(Object(s.jsxs)(O.a,{store:$,children:[Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(q,{})}),","]}),document.getElementById("root")),G()}},[[446,1,2]]]);
//# sourceMappingURL=main.85a0eed7.chunk.js.map